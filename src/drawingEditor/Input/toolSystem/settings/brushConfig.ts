import StabilizerFactory, {
  type StabilizerSettings,
} from '../tools/brushTool/stabilizing/stabilizerFactory';
import { StampBrushSettings, type LineBrushSettings } from './brushSettings';
import type AssetManager from '../../../renderer/util/assetManager';

////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////
//! CONFIG TYPES
////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////

export type BrushConfiguration = StampBrushConfiguration | LineBrushConfiguration;
export type BrushConfigType = BrushConfiguration['type'];

export function getDefaultBrushConfig(assetManager: AssetManager): BrushConfiguration {
  return {
    type: 'stamp',
    brushSettings: StampBrushSettings.default(assetManager),
    stabilizerSettings: StabilizerFactory.default(),
  };
}

////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////
//! STAMP CONFIG
////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////

interface StampBrushConfiguration {
  type: 'stamp';
  brushSettings: StampBrushSettings;
  stabilizerSettings: StabilizerSettings;
}

////////////////////////////////////// //////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////
//! LINE CONFIG
////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////

interface LineBrushConfiguration {
  type: 'line';
  brushSettings: LineBrushSettings;
  stabilizerSettings: StabilizerSettings;
}

////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////
//! SIMULATED CONFIG
////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////

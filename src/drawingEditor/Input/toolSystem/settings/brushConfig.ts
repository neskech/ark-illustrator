
import { getDefaultStabilizerSettings, type StabilizerSettings } from '../tools/brushTool/stabilizing/stabilizerFactory';
import { StampBrushSettings, type LineBrushSettings } from './brushSettings';

////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////
//! CONFIG TYPES
////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////

export type BrushConfiguration = StampBrushConfiguration | LineBrushConfiguration;
export type BrushConfigType = BrushConfiguration['type'];

export async function getDefaultBrushConfig(): Promise<BrushConfiguration> {
  return {
    type: 'stamp',
    brushSettings: await StampBrushSettings.default(),
    stabilizerSettings: getDefaultStabilizerSettings(),
  };
}

////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////
//! STAMP CONFIG
////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////

interface StampBrushConfiguration {
  type: 'stamp';
  brushSettings: StampBrushSettings;
  stabilizerSettings: StabilizerSettings;
}

////////////////////////////////////// //////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////
//! LINE CONFIG
////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////

interface LineBrushConfiguration {
  type: 'line';
  brushSettings: LineBrushSettings;
  stabilizerSettings: StabilizerSettings;
}

////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////
//! SIMULATED CONFIG
////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////

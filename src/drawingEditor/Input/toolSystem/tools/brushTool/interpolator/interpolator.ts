import { type BrushPoint } from '../brushTool';
import { type BaseBrushSettings } from '../../../settings/brushSettings';

////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////
//! TYPE DEFINITIONS
////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////

type InterpolatorType = 'smoothed' | 'linear';

////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////
//! MAIN CLASS
////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////

export abstract class Interpolator {
  private interpolatorType: InterpolatorType;

  constructor(interpolatorType: InterpolatorType) {
    this.interpolatorType = interpolatorType;
  }

  abstract process(points: BrushPoint[], brushSettings: BaseBrushSettings): BrushPoint[];
  abstract estimateOutputSize(inputPathLength: number): number;

  public isOfType(stabilizerType: InterpolatorType): boolean {
    return this.interpolatorType == stabilizerType;
  }
}

////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////
//! EXPORTED HELPERS
////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////

import { requires } from '../../../../util/general/contracts';
import { type FillSettings } from '../settings/fillSettings';
import { Tool, type HandleEventArgs } from '../tool';

////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////
//! CLASS DEFINITION
////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////

export class FillTool extends Tool {
  constructor() {
    super();
  }

  handleEvent(args: HandleEventArgs) {
    requires(this.areValidFillSettings(args.settings.fillSettings));

    const evType = args.eventString;
    const event = args.event as MouseEvent;

    switch (evType) {
      case 'mousemove':
        return this.mouseMovedHandler(args, event);
      case 'mouseup':
        return this.mouseUpHandler(args, event);
      case 'mousedown':
        return this.mouseDownHandler(args, event);
      default:
        return false;
    }
  }

  update(deltaTime: number): void {
    throw new Error('Method not implemented.');
  }

  private mouseMovedHandler(args: HandleEventArgs, event: MouseEvent): boolean {
    const { appState, settings } = args;
    return false;
  }

  private mouseUpHandler(args: HandleEventArgs, event: MouseEvent): boolean {
    const { appState, settings } = args;
    return false;
  }

  private mouseDownHandler(args: HandleEventArgs, event: MouseEvent): boolean {
    const { appState, settings } = args;
    return false;
  }

  private areValidFillSettings(f: FillSettings): boolean {
    return 0 <= f.tolerance && f.tolerance <= 1;
  }
}
////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////
//! HELPERS
////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////
